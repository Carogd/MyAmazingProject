import Head from "next/head";
import styles from "../styles/Home.module.css";

import { GetServerSideProps, InferGetServerSidePropsType } from "next";

type Data = {};

export const getServerSideProps: GetServerSideProps<{ data: Data }> = async (
  context
) => {
  const res = await fetch("https://api.deezer.com/user/2529/playlists");
  const data: Data = await res.json();

  return {
    props: {
      data,
    },
  };
};

const Home = ({
  data,
}: InferGetServerSidePropsType<typeof getServerSideProps>) => {
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App - Deezer Exo</title>
        <meta
          name='Mon app Deezer'
          content='Generated by create next app'
        />
      </Head>
      <main className={styles.main}>
        <h1>Retrouve ta musique préférer</h1>
        {/* OK DATA  */}
        <>{console.log("data - STEP 01", data)}</>
      </main>
    </div>
  );
};

export default Home;
